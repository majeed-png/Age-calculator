<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø¹Ù…Ø± â€“ ØªÙØ§ØµÙŠÙ„ Ø¹Ù…Ø±Ùƒ | Ø¹Ø¨Ø¯Ø§Ù„Ù…Ø¬ÙŠØ¯ Ø§Ù„Ø«ÙˆÙŠÙ†ÙŠ</title>
<meta name="description" content="ØªÙØ§ØµÙŠÙ„ Ø¯Ù‚ÙŠÙ‚Ø© Ù„Ø¹ÙÙ…Ø±Ùƒ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠ: Ø³Ù†ÙˆØ§Øª ÙˆØ´Ù‡ÙˆØ± ÙˆØ£Ø³Ø§Ø¨ÙŠØ¹ ÙˆØ£ÙŠØ§Ù… ÙˆØ³Ø§Ø¹Ø§ØªØŒ Ù…Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ÙŠÙˆÙ… ÙˆØ§Ù„ÙØµÙ„ ÙˆÙˆÙ‚Øª Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯Ùƒ Ø§Ù„Ù‚Ø§Ø¯Ù… ÙˆØ­Ù‚Ø§Ø¦Ù‚ Ù…Ù…ØªØ¹Ø©.">
<meta name="keywords" content="ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹Ù…Ø±, Ø¹Ù…Ø± Ø¨Ø§Ù„Ø§Ø´Ù‡Ø±, Ø¹Ù…Ø± Ø¨Ø§Ù„Ø§ÙŠØ§Ù…, Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¹Ù…Ø± Ø¨Ø§Ù„Ù‡Ø¬Ø±ÙŠ, Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¹Ù…Ø± Ø¨Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ, Ù…ØªÙ‰ Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯ÙŠ, ÙƒÙ… Ø¨Ø§Ù‚ÙŠ Ø¹Ù„Ù‰ Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯ÙŠ, Ø§Ø­Ø³Ø¨ Ø¹Ù…Ø±ÙŠ, Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø¹Ù…Ø±">
<meta property="og:title" content="ØªÙØ§ØµÙŠÙ„ Ø¹Ù…Ø±Ùƒ">
<meta property="og:description" content="ØªÙØ§ØµÙŠÙ„ Ø¯Ù‚ÙŠÙ‚Ø© Ù„Ø¹ÙÙ…Ø±Ùƒ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠ + Ø­Ù‚Ø§Ø¦Ù‚ Ù…Ù…ØªØ¹Ø©.">
<style>
:root{
  --bg:#0f1115;
  --card:#151a22;
  --text:#e9eef6;
  --muted:#a8b3c7;
  --accent:#2ed3c6; /* default accent (buttons) */
  --accent-2:#2ed3c6;
  --radius:14px;
  --shadow: 0 10px 30px rgba(0,0,0,.25);
  --font: "Tajawal", system-ui, -apple-system, "Segoe UI", Roboto, "Noto Kufi Arabic", "Noto Sans Arabic", Arial, "Apple Color Emoji","Segoe UI Emoji";
}
/* LIGHT THEME */
:root[data-theme='light']{
  --bg:#f5f7fb;
  --card:#ffffff;
  --text:#0b0f14;
  --muted:#536175;
}
/* AMOLED true black */
:root[data-theme='amoled']{
  --bg:#000000;
  --card:#0a0a0a;
  --text:#e9eef6;
  --muted:#a8b3c7;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:
     radial-gradient(1200px 600px at 100% -10%, rgba(76,76,255,.10), transparent 60%),
     radial-gradient(1200px 600px at -30% 110%, rgba(0, 255, 191,.08), transparent 60%),
     var(--bg);
  color:var(--text);
  font-family:var(--font);
  line-height:1.7;
}
:root[data-theme='light'] body,
:root[data-theme='light']{
  background:
     radial-gradient(1200px 600px at 100% -10%, rgba(124,92,255,.08), transparent 60%),
     radial-gradient(1200px 600px at -30% 110%, rgba(46,211,198,.08), transparent 60%),
     var(--bg);
}
.container{max-width:1000px;margin:24px auto;padding:16px}
.card{
  background:var(--card);
  border:1px solid rgba(255,255,255,.06);
  border-radius: var(--radius);
  padding:18px;
  box-shadow: var(--shadow);
  margin-top:16px;
}
:root[data-theme='light'] .card{border:1px solid rgba(10,10,10,.06)}
h1{margin:0 0 8px 0;font-weight:800;letter-spacing:.2px}
h2{margin:22px 0 10px 0;font-weight:800}
h3{margin:14px 0 10px 0;font-weight:800}
a{color:var(--accent)}
label{display:block;font-weight:700;margin-bottom:6px}
input, select, button{
  width:100%;
  border-radius:12px;
  padding:12px 14px;
  background:#0c0f14;
  color:var(--text);
  border:1px solid rgba(255,255,255,.08);
  outline:none;
}
:root[data-theme='light'] input,
:root[data-theme='light'] select,
:root[data-theme='light'] button{
  background:#f1f5f9;
  border:1px solid rgba(0,0,0,.08);
}
button{
  cursor:pointer;
  border:none;
  background:linear-gradient(135deg, var(--accent), var(--accent-2));
  color:#05171a;
  font-weight:800;
}
.muted{color:var(--muted)}
.notice{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:14px;margin-top:10px}
:root[data-theme='light'] .notice{background:#f8fafc;border:1px dashed rgba(0,0,0,.12)}
.navbar{
  display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:8px
}
.navbar .row{display:flex;gap:10px;flex-wrap:nowrap}
.badge{
  display:inline-flex;gap:8px;align-items:center;
  padding:6px 10px;border-radius:999px;
  background:rgba(255,255,255,.06);font-weight:700
}
.inputs{display:grid;grid-template-columns:1fr 1fr;gap:12px;align-items:end}
@media(max-width:800px){.inputs{grid-template-columns:1fr}}
.kpis{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
@media(max-width:900px){.kpis{grid-template-columns:repeat(2,1fr)}}
.kpi{background:#0c0f14;border:1px solid rgba(255,255,255,.06);border-radius:12px;padding:14px}
:root[data-theme='light'] .kpi{background:#f1f5f9;border:1px solid rgba(0,0,0,.06)}
.kpi .num{font-size:1.6rem;font-weight:900}
.tag{padding:6px 10px;border-radius:12px;background:rgba(255,255,255,.08);font-weight:700}
:root[data-theme='light'] .tag{background:#eef2f7}
footer{opacity:.7;padding:20px 6px}
.panel{display:none;margin-top:10px}
.row{display:flex;gap:10px;flex-wrap:wrap}
.theme-btn{
  padding:12px 14px;border-radius:12px;background:#0c0f14;border:1px solid rgba(255,255,255,.14);
  cursor:pointer;color:var(--text)!important;min-width:140px;text-align:center;position:relative;
}
:root[data-theme='light'] .theme-btn{background:#f1f5f9;border:1px solid rgba(0,0,0,.12);color:#0b0f14!important}
.theme-btn.selected{outline:3px solid var(--accent); outline-offset:3px; border-color:var(--accent)}
.color-dot{width:22px;height:22px;border-radius:50%;border:2px solid rgba(255,255,255,.5);cursor:pointer}
:root[data-theme='light'] .color-dot{border-color:rgba(0,0,0,.35)}
.small-btn{min-width:56px}

.bento{display:grid;grid-template-columns:1.2fr 1fr;gap:16px}
@media(max-width:900px){.bento{grid-template-columns:1fr}}

/* Birthday special theme */
.birthday .card, .birthday body{ 
  background: radial-gradient(1000px 600px at 0% 0%, rgba(255,215,0,.12), transparent 60%), 
              radial-gradient(1000px 600px at 100% 100%, rgba(255,105,180,.12), transparent 60%), var(--bg);
}
.birthday-banner{ 
  display:none; 
  background:linear-gradient(135deg, #ffd700, #ff69b4);
  color:#ffffff;
  border:0;
  text-align:center;
  padding:18px;
  border-radius:16px;
  font-weight:900;
  font-size:1.4rem;
  box-shadow:0 10px 40px rgba(0,0,0,.35), inset 0 0 60px rgba(255,255,255,.5);
}
.birthday .birthday-banner{ display:block; }
.confetti-piece{position:fixed;width:10px;height:14px;top:-14px;opacity:.9}
</style>
</head>
<body>
<div class="container">
  <div class="navbar">
    <div class="badge">ğŸ¯ ØªÙØ§ØµÙŠÙ„ Ø¹Ù…Ø±Ùƒ</div>
    <div class="row">
      <button id="openCustomize" style="max-width:140px">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>
      <a href="index.html" title="Ø±Ø¬ÙˆØ¹"><button class="small-btn" style="background:#0c0f14;border:1px solid rgba(255,255,255,.15)">â¬…ï¸</button></a>
    </div>
  </div>

  <div class="card birthday-banner">Ø§Ù„ÙŠÙˆÙ… Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯Ùƒ! ÙƒÙ„ Ø¹Ø§Ù… ÙˆØ£Ù†Øª Ø¨Ø®ÙŠØ± ğŸ‰</div>

  <div id="contentArea" class="bento" style="display:none">
    <div class="card">
      <h2>Ø¹Ù…Ø±Ùƒ Ø¨ØµÙŠØº ÙˆØ£Ø´ÙƒØ§Ù„ Ù…Ø®ØªÙ„ÙØ©</h2>
      <div class="kpis">
        <div class="kpi"><div class="muted">Ø¨Ø§Ù„Ø£Ø´Ù‡Ø±</div><div class="num" id="monthsAge">â€”</div></div>
        <div class="kpi"><div class="muted">Ø¨Ø§Ù„Ø£Ø³Ø§Ø¨ÙŠØ¹</div><div class="num" id="weeksAge">â€”</div></div>
        <div class="kpi"><div class="muted">Ø¨Ø§Ù„Ø£ÙŠØ§Ù…</div><div class="num" id="daysAge">â€”</div></div>
        <div class="kpi"><div class="muted">Ø¨Ø§Ù„Ø³Ø§Ø¹Ø§Øª</div><div class="num" id="hoursAge">â€”</div></div>
      </div>
      <hr/>
      <h3>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø£ÙƒØ«Ø± Ø¹Ù† Ø¹Ù…Ø±Ùƒ</h3>
      <div class="row">
        <span class="tag">ÙˆÙ„Ø¯Øª ÙŠÙˆÙ…: <b id="weekday">â€”</b></span>
        <span class="tag">ÙˆÙ„Ø¯Øª ÙÙŠ ÙØµÙ„: <b id="season">â€”</b></span>
        <span class="tag">Ù…Ø±Ø­Ù„Ø© Ø­ÙŠØ§ØªÙƒ: <b id="lifeStage">â€”</b></span>
        <span class="tag">Ù†ÙˆÙ…Ùƒ Ø§Ù„ØµØ­ÙŠ: Ù…Ù† 7 Ø¥Ù„Ù‰ 9 Ø³Ø§Ø¹Ø§Øª ÙŠÙˆÙ…ÙŠÙ‹Ø§</span>
      </div>
      <hr/>
      <h3>Ø§Ù„Ø¹Ù…Ø± Ø¨Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ</h3>
      <div id="gregInfo" class="muted">â€”</div>
      <hr/>
      <h3>Ø§Ù„Ø¹Ù…Ø± Ø¨Ø§Ù„Ù‡Ø¬Ø±ÙŠ (ØªÙ‚Ø±ÙŠØ¨ÙŠ)</h3>
      <div id="hijriInfo" class="muted">â€”</div>
    </div>

    <div class="card">
      <h2>Ø­Ù‚Ø§Ø¦Ù‚ Ø­ØµÙ„Øª ÙÙŠ Ø­ÙŠØ§ØªÙƒ</h2>
      <div class="fact"><div>ØªÙÙ†ÙÙÙ‘ÙØ³Øª</div><div><b id="breaths">â€”</b> Ù…Ø±Ø©</div></div>
      <div class="fact"><div>Ù†ÙØ¨ÙØ¶ Ù‚Ù„Ø¨Ùƒ</div><div><b id="heartbeats">â€”</b> Ù†Ø¨Ø¶Ø©</div></div>
      <div class="fact"><div>Ø¶Ø­ÙƒØª</div><div><b id="laughs">â€”</b> Ù…Ø±Ø©</div></div>
      <div class="fact"><div>Ù†Ù…Øª</div><div><b id="slept">â€”</b></div></div>
      <div class="fact"><div>Ø£Ù…Ø¶ÙŠØª ÙÙŠ ØªÙ†Ø§ÙˆÙ„ Ø§Ù„Ø·Ø¹Ø§Ù…</div><div><b id="eaten">â€”</b></div></div>
      <div class="notice">
        <b>ØªÙˆØ¶ÙŠØ­:</b> ØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø¹Ø¯Ù„Ø§Øª ØªÙ‚Ø±ÙŠØ¨ÙŠØ© Ø´Ø§Ø¦Ø¹Ø© (Ø¨Ø¯ÙˆÙ† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª): Ù¢Ù  Ø£Ù„Ù Ù†ÙÙÙØ³ ÙŠÙˆÙ…ÙŠÙ‹Ø§ØŒ Ù¨Ù  Ù†Ø¨Ø¶Ø©/Ø¯Ù‚ÙŠÙ‚Ø©ØŒ Ù¡Ù  Ø¶Ø­ÙƒØ§Øª/ÙŠÙˆÙ…ØŒ Ù¨ Ø³Ø§Ø¹Ø§Øª Ù†ÙˆÙ…/ÙŠÙˆÙ…ØŒ Ù¨Ù  Ø¯Ù‚ÙŠÙ‚Ø© Ø·Ø¹Ø§Ù…/ÙŠÙˆÙ….
      </div>
    </div>
  </div>

  
<div id="customizePanel" class="panel notice">
  <h3>Ø§Ù„Ø®Ù„ÙÙŠØ©</h3>
  <div class="row">
    <div class="theme-btn" data-theme="light">ÙØ§ØªØ­</div>
    <div class="theme-btn" data-theme="dark">Ø¯Ø§ÙƒÙ†</div>
    <div class="theme-btn" data-theme="amoled">Ø£Ø³ÙˆØ¯ Ø®Ø§Ù„Øµ (AMOLED)</div>
  </div>
  <hr/>
  <h3>Ù„ÙˆÙ† Ø§Ù„Ø£Ø²Ø±Ø§Ø±</h3>
  <div class="row" id="accentRow">
    <div class="color-dot" data-accent="#2ed3c6" style="background:#2ed3c6"></div>
    <div class="color-dot" data-accent="#7c5cff" style="background:#7c5cff"></div>
    <div class="color-dot" data-accent="#f97316" style="background:#f97316"></div>
    <div class="color-dot" data-accent="#22c55e" style="background:#22c55e"></div>
    <div class="color-dot" data-accent="#06b6d4" style="background:#06b6d4"></div>
    <div class="color-dot" data-accent="#ef4444" style="background:#ef4444"></div>
  </div>
  <div class="muted" style="margin-top:8px">Ø§Ù„Ø®Ù„ÙÙŠØ© Ù„Ø§ ØªØºÙŠÙ‘Ø± Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø£Ø²Ø±Ø§Ø± â€” Ø§Ø®ØªØ± Ø§Ù„Ù„ÙˆÙ† Ù‡Ù†Ø§.</div>
</div>


  <div class="card notice" id="noData" style="display:none">
    Ù„Ù… ÙŠØªÙ… Ø¥Ø¯Ø®Ø§Ù„ ØªØ§Ø±ÙŠØ® Ù…ÙŠÙ„Ø§Ø¯ Ø¨Ø¹Ø¯. <a href="index.html">Ø§Ø°Ù‡Ø¨ Ù„ØµÙØ­Ø© Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„</a>.
  </div>

  <footer class="container">
    ØµÙÙ†ÙØ¹ Ù„Ù€ <b>Ø¹Ø¨Ø¯Ø§Ù„Ù…Ø¬ÙŠØ¯ Ø§Ù„Ø«ÙˆÙŠÙ†ÙŠ</b> Â· ÙŠØ¹Ù…Ù„ Ø¯ÙˆÙ† Ø¥Ù†ØªØ±Ù†Øª Â· Â© <span id="yearNow"></span>
  </footer>
</div>

<script>
const $ = (id)=>document.getElementById(id);
const fmt = (n)=> Number.isFinite(n) ? n.toLocaleString('ar-SA') : 'â€”';

function markSelectedTheme(t){
  document.querySelectorAll('.theme-btn').forEach(b=>{
    if(b.getAttribute('data-theme')===t) b.classList.add('selected');
    else b.classList.remove('selected');
  });
}
function setTheme(t){
  if(!t) t='dark';
  const root = document.documentElement;
  if(t==='light') root.setAttribute('data-theme','light');
  else if(t==='amoled') root.setAttribute('data-theme','amoled');
  else { root.setAttribute('data-theme','dark'); t='dark'; }
  localStorage.setItem('ageTheme', t);
  markSelectedTheme(t);
}
function setAccent(c){
  document.documentElement.style.setProperty('--accent', c);
  document.documentElement.style.setProperty('--accent-2', c);
  localStorage.setItem('ageAccent', c);
}
function loadPrefs(){
  const t = localStorage.getItem('ageTheme') || 'dark';
  const c = localStorage.getItem('ageAccent') || '#2ed3c6';
  setAccent(c);
  setTheme(t);
}
function setupSettings(){
  const btn = document.getElementById('openCustomize');
  const p = document.getElementById('customizePanel');
  if(btn && p){ btn.onclick = ()=>{ p.style.display = (p.style.display === 'block') ? 'none' : 'block'; }; }
  document.querySelectorAll('.theme-btn').forEach(b=> b.addEventListener('click', ()=> setTheme(b.getAttribute('data-theme')) ));
  document.querySelectorAll('.color-dot').forEach(d=> d.addEventListener('click', ()=> setAccent(d.getAttribute('data-accent')) ));
  loadPrefs();
}
// Calendars
function gregToJDN(y,m,d){
  if(m <= 2){ y -= 1; m += 12; }
  const A = Math.floor(y/100);
  const B = 2 - A + Math.floor(A/4);
  return Math.floor(365.25*(y + 4716)) + Math.floor(30.6001*(m + 1)) + d + B - 1524.5;
}
function jdnToGreg(jd){
  const Z = Math.floor(jd + 0.5);
  let A = Z;
  const alpha = Math.floor((A - 1867216.25)/36524.25);
  A = A + 1 + alpha - Math.floor(alpha/4);
  const B = A + 1524;
  const C = Math.floor((B - 122.1)/365.25);
  const D = Math.floor(365.25*C);
  const E = Math.floor((B - D)/30.6001);
  const day = B - D - Math.floor(30.6001*E);
  const month = (E < 14) ? E - 1 : E - 13;
  const year = (month > 2) ? C - 4716 : C - 4715;
  return {year, month, day};
}
const ISLAMIC_EPOCH = 1948439.5;
function islamicToJDN(y,m,d){
  return d + Math.ceil(29.5*(m-1)) + (y-1)*354 + Math.floor((3 + 11*y)/30) + ISLAMIC_EPOCH - 1;
}
function jdnToIslamic(jd){
  jd = Math.floor(jd) + 0.5;
  const year = Math.floor((30*(jd - ISLAMIC_EPOCH) + 10646) / 10631);
  const first = islamicToJDN(year,1,1);
  const month = Math.min(12, Math.ceil((jd - first + 1)/29.5));
  const day = Math.floor(jd - islamicToJDN(year, month, 1)) + 1;
  return {year, month, day};
}
function getSeason(month){
  const names = {winter:'Ø§Ù„Ø´ØªØ§Ø¡', spring:'Ø§Ù„Ø±Ø¨ÙŠØ¹', summer:'Ø§Ù„ØµÙŠÙ', autumn:'Ø§Ù„Ø®Ø±ÙŠÙ'};
  if([12,1,2].includes(month)) return names.winter;
  if([3,4,5].includes(month)) return names.spring;
  if([6,7,8].includes(month)) return names.summer;
  return names.autumn;
}
function getWeekdayName(date){
  const days = ['Ø§Ù„Ø£Ø­Ø¯','Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†','Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡','Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡','Ø§Ù„Ø®Ù…ÙŠØ³','Ø§Ù„Ø¬Ù…Ø¹Ø©','Ø§Ù„Ø³Ø¨Øª'];
  return days[date.getDay()];
}
function lifeStage(years){
  if(years < 13) return 'Ø·ÙÙˆÙ„Ø©';
  if(years < 20) return 'Ù…Ø±Ø§Ù‡Ù‚Ø©';
  if(years < 36) return 'Ø´Ø¨Ø§Ø¨';
  if(years < 60) return 'Ù…ØªÙˆØ³Ø· Ø§Ù„Ø¹Ù…Ø±';
  return 'ÙƒØ¨ÙŠØ± Ø³Ù†';
}


function launchConfetti(){
  for(let i=0;i<120;i++){
    const c = document.createElement('div');
    c.className = 'confetti-piece';
    const left = Math.random()*100;
    const rotate = Math.random()*360;
    const duration = 4 + Math.random()*3;
    const size = 6 + Math.random()*10;
    c.style.left = left + 'vw';
    c.style.background = ['#ffd700','#ff69b4','#80ffea','#a78bfa','#34d399'][i%5];
    c.style.transform = `rotate(${rotate}deg)`;
    c.style.width = size+'px';
    c.style.height = (size+4)+'px';
    c.style.transition = `transform ${duration}s linear, top ${duration}s linear, opacity ${duration}s`;
    document.body.appendChild(c);
    setTimeout(()=>{ c.style.top = '110vh'; c.style.transform = `translateY(90vh) rotate(${rotate+720}deg)`; c.style.opacity = 0.9; }, 20);
    setTimeout(()=> c.remove(), (duration+1)*1000);
  }
}

function daysToYMD(totalDays){
  const y = Math.floor(totalDays/365.25);
  totalDays -= y*365.25;
  const mo = Math.floor(totalDays/30.4375);
  totalDays -= mo*30.4375;
  const d = Math.round(totalDays);
  return {y,mo,d};
}

function calcAndRender(){ 
  const raw = localStorage.getItem('birthInfo');
  if(!raw) { $('noData').style.display='block'; return; }
  const b = JSON.parse(raw);
  const gY=b.greg.gY, gM=b.greg.gM, gD=b.greg.gD;

  const birth = new Date(Date.UTC(gY, gM-1, gD));
  const now = new Date();
  const ageMs = now - birth;
  if(ageMs < 0) { $('noData').style.display='block'; $('noData').textContent='ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ ÙÙŠ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„'; return;}

  const dayMs = 24*60*60*1000;
  const days = Math.floor(ageMs / dayMs);
  const hours = Math.floor(ageMs / (60*60*1000));
  const years = (now.getUTCFullYear() - gY) - ( (now.getUTCMonth()+1 < gM || (now.getUTCMonth()+1 === gM && now.getUTCDate() < gD)) ? 1 : 0 );
  let months = years*12 + (now.getUTCMonth()+1) - gM;
  if(now.getUTCDate() < gD) months -= 1;
  const weeks = Math.floor(days/7);

  $('monthsAge').textContent = fmt(months) + ' Ø´Ù‡Ø± Ùˆ ' + fmt((days%30)) + ' ÙŠÙˆÙ…';
  $('weeksAge').textContent = fmt(weeks);
  $('daysAge').textContent = fmt(days);
  $('hoursAge').textContent = fmt(hours);

  const weekName = getWeekdayName(new Date(gY, gM-1, gD));
  $('weekday').textContent = weekName;
  $('season').textContent = getSeason(gM);
  $('lifeStage').textContent = lifeStage(years);

  let nextB = new Date(now.getFullYear(), gM-1, gD);
  if(nextB < now) nextB = new Date(now.getFullYear()+1, gM-1, gD);
  const remMs = nextB - now;
  const rDays = Math.floor(remMs/dayMs);
  const rHours = Math.floor( (remMs - rDays*dayMs) / (60*60*1000) );
  const nextBDayName = getWeekdayName(nextB);

  $('gregInfo').innerHTML = `ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯: <b>${gD}-${gM}-${gY}</b><br>
    Ø§Ù„Ø¹Ù…Ø±: <b>${fmt(years)}</b> Ø³Ù†Ø© Ùˆ <b>${fmt(months%12)}</b> Ø´Ù‡Ø± Ùˆ <b>${fmt((days%30))}</b> ÙŠÙˆÙ…<br>
    Ø¨Ø§Ù‚ÙŠ Ù„Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯Ùƒ Ø§Ù„Ù‚Ø§Ø¯Ù…: <b>${fmt(rDays)}</b> ÙŠÙˆÙ… Ùˆ <b>${fmt(rHours)}</b> Ø³Ø§Ø¹Ø©<br>
    Ø³ÙŠÙƒÙˆÙ† Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯Ùƒ ÙŠÙˆÙ… <b>${nextBDayName} </b> Ø§Ù„Ù…ÙˆØ§ÙÙ‚ <b>${nextB.getDate()}-${nextB.getMonth()+1}-${nextB.getFullYear()}</b>`;

  const nowJDN = gregToJDN(now.getFullYear(), now.getMonth()+1, now.getDate());
  const nowH = jdnToIslamic(nowJDN);
  const birthJDN = gregToJDN(gY, gM, gD);
  const birthH = jdnToIslamic(birthJDN);

  let hYears = nowH.year - birthH.year;
  let hMonths = nowH.month - birthH.month;
  let hDays = nowH.day - birthH.day;
  if(hDays < 0){ hMonths -= 1; hDays += 30; }
  if(hMonths < 0){ hYears -= 1; hMonths += 12; }
  $('hijriInfo').innerHTML = `ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯: <b>${birthH.day}-${birthH.month}-${birthH.year} Ù‡Ù€</b><br>
  Ø§Ù„Ø¹Ù…Ø±: <b>${fmt(hYears)}</b> Ø³Ù†Ø© Ùˆ <b>${fmt(hMonths)}</b> Ø´Ù‡Ø± Ùˆ <b>${fmt(hDays)}</b> ÙŠÙˆÙ… (Ø­Ø³Ø§Ø¨ ØªÙ‚Ø±ÙŠØ¨ÙŠ)`;

  const breathsPerDay = 20000, bpm = 80, laughsPerDay = 10, sleepHours = 8, eatMinutes = 80;
  $('breaths').textContent = fmt(breathsPerDay * days);
  $('heartbeats').textContent = fmt(Math.round(bpm*60*24 * days));
  $('laughs').textContent = fmt(laughsPerDay * days);
  const s = daysToYMD((sleepHours/24) * days);
  const e = daysToYMD((eatMinutes/60/24) * days);
  $('slept').textContent = `${fmt(s.y)} Ø³Ù†Ø© Ùˆ ${fmt(s.mo)} Ø´Ù‡Ø± Ùˆ ${fmt(s.d)} ÙŠÙˆÙ…`;
  $('eaten').textContent = `${fmt(e.y)} Ø³Ù†Ø© Ùˆ ${fmt(e.mo)} Ø´Ù‡Ø± Ùˆ ${fmt(e.d)} ÙŠÙˆÙ…`;

  $('contentArea').style.display='grid';

  if(now.getDate()===gD && (now.getMonth()+1)===gM){
    document.body.classList.add('birthday');
    launchConfetti();
  }
}

document.getElementById('yearNow').textContent = new Date().getFullYear();
setupSettings();
calcAndRender();
</script>
</body>
</html>
